---
name: codex-orchestration
description: 発火: 複合要求、3ステップ以上、複数ドメイン横断。Planner/Investigators/Synthesizer で分割し、並列調査を標準化する。
---

# Codex オーケストレーション

## 発火条件

- 依頼が 3 ステップ以上で、設計判断が複数必要
- API/D1/Cloudflare など複数ドメインを同時に扱う
- 依頼内に相互依存する複数作業がある

## 入力前提

- ゴールと成功条件が明確である
- 変更不可領域（生成物手編集禁止など）が明確である
- 期限/制約が明確である

## 実行ステップ

1. Planner
- タスクを分割し、順序と成功条件を固定する
- 依頼タイプごとに `codex/rules/07-dynamic-routing.md` で Skill を選定する
2. Investigators
- 探索タスクを `multi_tool_use.parallel` で並列実行する
- 並列探索は非破壊操作に限定し、事実のみ収集する
3. Synthesizer
- 並列結果を統合し、実装順序と検証順序を確定する
- 依存関係があるタスクは直列化して実装する

## 検証コマンド

- 複合要求で選ばれた各 Skill の検証コマンドを合成して実行する
- 最低限 `bun run lint` を実行する

## 出力契約

- 分割したタスクと担当 Skill を列挙する
- 並列探索で実行したコマンドを列挙する
- 最終的な実装順序と未検証項目を明記する
